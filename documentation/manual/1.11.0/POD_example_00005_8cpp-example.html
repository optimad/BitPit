---
layout: doxygen_header
title: Manual - POD_example_00005.cpp
section: documentation
doxygen-show-titlearea: 0
extra-head-includes:
    - doxygen_extra_head.html
---
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
{% if page.doxygen-show-titlearea == 1 %}
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">bitpit
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
{% endif %}
<!-- end header part -->
{% raw %}
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">POD_example_00005.cpp</div></div>
</div><!--header-->
<div class="contents">
<p>POD basis computation using voloctree. This example.</p>
<p>POD basis computation using voloctree. This example</p><ul>
<li>computes the POD basis starting from a database of simulations defined on the same mesh.</li>
<li>Reads and writes the first snapshot and the reconstruction as VTK file.</li>
<li>Projects the first snapshot on POD vector space generate by the modes.</li>
<li>Reconstructs the first snapshots with the BuildFieldsWithCoeff function.</li>
<li>Compares snapshot and reconstruction.</li>
<li>Builds a new pod object restoring the modes dumped in the computation of the first POD object.</li>
<li>Compares the reconstruction of the first POD object with the reconstruction obtained with the second.</li>
</ul>
<p><b>To run</b>: ./POD_example_00005 <br  />
 </p><div class="fragment"><div class="line"><span class="comment">/*---------------------------------------------------------------------------*\</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> *  bitpit</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> *  Copyright (C) 2015-2023 OPTIMAD engineering Srl</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> *  -------------------------------------------------------------------------</span></div>
<div class="line"><span class="comment"> *  License</span></div>
<div class="line"><span class="comment"> *  This file is part of bitpit.</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> *  bitpit is free software: you can redistribute it and/or modify it</span></div>
<div class="line"><span class="comment"> *  under the terms of the GNU Lesser General Public License v3 (LGPL)</span></div>
<div class="line"><span class="comment"> *  as published by the Free Software Foundation.</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> *  bitpit is distributed in the hope that it will be useful, but WITHOUT</span></div>
<div class="line"><span class="comment"> *  ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or</span></div>
<div class="line"><span class="comment"> *  FITNESS FOR A PARTICULAR PURPOSE. See the GNU Lesser General Public</span></div>
<div class="line"><span class="comment"> *  License for more details.</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> *  You should have received a copy of the GNU Lesser General Public License</span></div>
<div class="line"><span class="comment"> *  along with bitpit. If not, see &lt;http://www.gnu.org/licenses/&gt;.</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment">\*---------------------------------------------------------------------------*/</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;array&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><span class="preprocessor">#if BITPIT_ENABLE_MPI</span></div>
<div class="line"><span class="preprocessor">#include &lt;mpi.h&gt;</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &quot;pod.hpp&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;pod_voloctree.hpp&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;pod_kernel.hpp&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;piercedStorage.hpp&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">using namespace </span>bitpit;</div>
<div class="line"> </div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * Build a PODField object with difference between two PODField objects.</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * \param[in] field1, minuend PODField.</span></div>
<div class="line"><span class="comment"> * \param[in] field2, subtrahend PODField.</span></div>
<div class="line"><span class="comment"> * \param[in] listActIds, list of active ids of the mesh of field1 and field2.</span></div>
<div class="line"><span class="comment"> * \param[out] errorField, PODField with the difference between field1 and field2.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><a id="_a0" name="_a0"></a><a class="code hl_struct" href="structbitpit_1_1pod_1_1PODField.html">pod::PODField</a> buildErrorField (<a class="code hl_struct" href="structbitpit_1_1pod_1_1PODField.html">pod::PODField</a> &amp;field1, <a class="code hl_struct" href="structbitpit_1_1pod_1_1PODField.html">pod::PODField</a> &amp;field2, <span class="keyword">const</span> std::unordered_set&lt;long&gt; listActIds)</div>
<div class="line">{</div>
<div class="line">    <a class="code hl_struct" href="structbitpit_1_1pod_1_1PODField.html">pod::PODField</a> errorField;</div>
<div class="line">    errorField.<a id="a1" name="a1"></a><a class="code hl_variable" href="structbitpit_1_1pod_1_1PODField.html#a0edb4d6c8fffcdb8a12fe71ebeff4a68">scalar</a> = std::unique_ptr&lt;pod::ScalarStorage&gt;(<span class="keyword">new</span> <a id="_a2" name="_a2"></a><a class="code hl_class" href="classbitpit_1_1PiercedStorage.html">pod::ScalarStorage</a>(2, &amp;field1.<a id="a3" name="a3"></a><a class="code hl_variable" href="structbitpit_1_1pod_1_1PODField.html#aaad2dcf6fdfeebc7056e9e48a62d7692">mesh</a>-&gt;<a id="a4" name="a4"></a><a class="code hl_function" href="classbitpit_1_1PatchKernel.html#a1799d61f7a4ea2c0f043ee860de457fe">getCells</a>()));</div>
<div class="line">    errorField.<a id="a5" name="a5"></a><a class="code hl_variable" href="structbitpit_1_1pod_1_1PODField.html#a5798d722a1279f872598da58f34ab6ff">vector</a> = std::unique_ptr&lt;pod::VectorStorage&gt;(<span class="keyword">new</span> <a id="_a6" name="_a6"></a><a class="code hl_class" href="classbitpit_1_1PiercedStorage.html">pod::VectorStorage</a>(1, &amp;field1.<a class="code hl_variable" href="structbitpit_1_1pod_1_1PODField.html#aaad2dcf6fdfeebc7056e9e48a62d7692">mesh</a>-&gt;<a class="code hl_function" href="classbitpit_1_1PatchKernel.html#a1799d61f7a4ea2c0f043ee860de457fe">getCells</a>()));</div>
<div class="line">    errorField.<a class="code hl_variable" href="structbitpit_1_1pod_1_1PODField.html#a0edb4d6c8fffcdb8a12fe71ebeff4a68">scalar</a>-&gt;fill(0.0);</div>
<div class="line">    errorField.<a class="code hl_variable" href="structbitpit_1_1pod_1_1PODField.html#a5798d722a1279f872598da58f34ab6ff">vector</a>-&gt;fill(std::array&lt;double, 3&gt;{{0.0, 0.0, 0.0}});</div>
<div class="line">    errorField.<a id="a7" name="a7"></a><a class="code hl_variable" href="structbitpit_1_1pod_1_1PODField.html#a39d2adad3475cc87180e05a6f9163801">mask</a> = std::unique_ptr&lt;PiercedStorage&lt;bool&gt;&gt;(<span class="keyword">new</span> <a id="_a8" name="_a8"></a><a class="code hl_class" href="classbitpit_1_1PiercedStorage.html">PiercedStorage&lt;bool&gt;</a>(1, &amp;field1.<a class="code hl_variable" href="structbitpit_1_1pod_1_1PODField.html#aaad2dcf6fdfeebc7056e9e48a62d7692">mesh</a>-&gt;<a class="code hl_function" href="classbitpit_1_1PatchKernel.html#a1799d61f7a4ea2c0f043ee860de457fe">getCells</a>()));</div>
<div class="line">    errorField.<a class="code hl_variable" href="structbitpit_1_1pod_1_1PODField.html#a39d2adad3475cc87180e05a6f9163801">mask</a>-&gt;fill(0.0);</div>
<div class="line">    errorField.<a id="a9" name="a9"></a><a class="code hl_function" href="structbitpit_1_1pod_1_1PODField.html#aa2d43552f707184078abaf34d6dabbfa">setMesh</a>(field1.<a class="code hl_variable" href="structbitpit_1_1pod_1_1PODField.html#aaad2dcf6fdfeebc7056e9e48a62d7692">mesh</a>);</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">long</span> <span class="keywordtype">id</span> : listActIds) {</div>
<div class="line">        <span class="keywordflow">for</span> (std::size_t isf = 0; isf &lt; 2; ++isf) {</div>
<div class="line">            <span class="keywordtype">double</span> field1s = field1.<a class="code hl_variable" href="structbitpit_1_1pod_1_1PODField.html#a0edb4d6c8fffcdb8a12fe71ebeff4a68">scalar</a>-&gt;at(<span class="keywordtype">id</span>, isf);</div>
<div class="line">            <span class="keywordtype">double</span> field2s = field2.<a class="code hl_variable" href="structbitpit_1_1pod_1_1PODField.html#a0edb4d6c8fffcdb8a12fe71ebeff4a68">scalar</a>-&gt;at(<span class="keywordtype">id</span>, isf);</div>
<div class="line">            errorField.<a class="code hl_variable" href="structbitpit_1_1pod_1_1PODField.html#a0edb4d6c8fffcdb8a12fe71ebeff4a68">scalar</a>-&gt;at(<span class="keywordtype">id</span>, isf) += field1s-field2s;</div>
<div class="line">        }</div>
<div class="line">        std::array&lt;double,3&gt; field1sv = field1.<a class="code hl_variable" href="structbitpit_1_1pod_1_1PODField.html#a5798d722a1279f872598da58f34ab6ff">vector</a>-&gt;at(<span class="keywordtype">id</span>,0);</div>
<div class="line">        std::array&lt;double,3&gt; field2sv = field2.<a class="code hl_variable" href="structbitpit_1_1pod_1_1PODField.html#a5798d722a1279f872598da58f34ab6ff">vector</a>-&gt;at(<span class="keywordtype">id</span>,0);</div>
<div class="line">        errorField.<a class="code hl_variable" href="structbitpit_1_1pod_1_1PODField.html#a5798d722a1279f872598da58f34ab6ff">vector</a>-&gt;at(<span class="keywordtype">id</span>, 0) += field1sv-field2sv;</div>
<div class="line">        errorField.<a class="code hl_variable" href="structbitpit_1_1pod_1_1PODField.html#a39d2adad3475cc87180e05a6f9163801">mask</a>-&gt;at(<span class="keywordtype">id</span>) = 1;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> errorField;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * Build a PODField object with the relative difference between two PODField objects.</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * \param[in] field1, minuend PODField.</span></div>
<div class="line"><span class="comment"> * \param[in] field2, subtrahend PODField.</span></div>
<div class="line"><span class="comment"> * \param[in] pod, POD object over which the two fields have been defined.</span></div>
<div class="line"><span class="comment"> * \param[in] norm_type, L2 or Linf</span></div>
<div class="line"><span class="comment"> * \param[out] errorField, PODField with the difference between field1 and field2.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><a class="code hl_struct" href="structbitpit_1_1pod_1_1PODField.html">pod::PODField</a> buildRelErrorField (<a class="code hl_struct" href="structbitpit_1_1pod_1_1PODField.html">pod::PODField</a> &amp;field1, <a class="code hl_struct" href="structbitpit_1_1pod_1_1PODField.html">pod::PODField</a> &amp;field2, <a id="_a10" name="_a10"></a><a class="code hl_class" href="classbitpit_1_1POD.html">POD</a> &amp;pod, std::string norm_type )</div>
<div class="line">{</div>
<div class="line">    <a class="code hl_struct" href="structbitpit_1_1pod_1_1PODField.html">pod::PODField</a> errorField;</div>
<div class="line">    errorField.<a class="code hl_variable" href="structbitpit_1_1pod_1_1PODField.html#a0edb4d6c8fffcdb8a12fe71ebeff4a68">scalar</a> = std::unique_ptr&lt;pod::ScalarStorage&gt;(<span class="keyword">new</span> <a class="code hl_class" href="classbitpit_1_1PiercedStorage.html">pod::ScalarStorage</a>(2, &amp;field1.<a class="code hl_variable" href="structbitpit_1_1pod_1_1PODField.html#aaad2dcf6fdfeebc7056e9e48a62d7692">mesh</a>-&gt;<a class="code hl_function" href="classbitpit_1_1PatchKernel.html#a1799d61f7a4ea2c0f043ee860de457fe">getCells</a>()));</div>
<div class="line">    errorField.<a class="code hl_variable" href="structbitpit_1_1pod_1_1PODField.html#a5798d722a1279f872598da58f34ab6ff">vector</a> = std::unique_ptr&lt;pod::VectorStorage&gt;(<span class="keyword">new</span> <a class="code hl_class" href="classbitpit_1_1PiercedStorage.html">pod::VectorStorage</a>(1, &amp;field1.<a class="code hl_variable" href="structbitpit_1_1pod_1_1PODField.html#aaad2dcf6fdfeebc7056e9e48a62d7692">mesh</a>-&gt;<a class="code hl_function" href="classbitpit_1_1PatchKernel.html#a1799d61f7a4ea2c0f043ee860de457fe">getCells</a>()));</div>
<div class="line">    errorField.<a class="code hl_variable" href="structbitpit_1_1pod_1_1PODField.html#a0edb4d6c8fffcdb8a12fe71ebeff4a68">scalar</a>-&gt;fill(0.0);</div>
<div class="line">    errorField.<a class="code hl_variable" href="structbitpit_1_1pod_1_1PODField.html#a5798d722a1279f872598da58f34ab6ff">vector</a>-&gt;fill(std::array&lt;double, 3&gt;{{0.0, 0.0, 0.0}});</div>
<div class="line">    errorField.<a class="code hl_variable" href="structbitpit_1_1pod_1_1PODField.html#a39d2adad3475cc87180e05a6f9163801">mask</a> = std::unique_ptr&lt;PiercedStorage&lt;bool&gt;&gt;(<span class="keyword">new</span> <a class="code hl_class" href="classbitpit_1_1PiercedStorage.html">PiercedStorage&lt;bool&gt;</a>(1, &amp;field1.<a class="code hl_variable" href="structbitpit_1_1pod_1_1PODField.html#aaad2dcf6fdfeebc7056e9e48a62d7692">mesh</a>-&gt;<a class="code hl_function" href="classbitpit_1_1PatchKernel.html#a1799d61f7a4ea2c0f043ee860de457fe">getCells</a>()));</div>
<div class="line">    errorField.<a class="code hl_variable" href="structbitpit_1_1pod_1_1PODField.html#a39d2adad3475cc87180e05a6f9163801">mask</a>-&gt;fill(0.0);</div>
<div class="line">    errorField.<a class="code hl_function" href="structbitpit_1_1pod_1_1PODField.html#aa2d43552f707184078abaf34d6dabbfa">setMesh</a>(field1.<a class="code hl_variable" href="structbitpit_1_1pod_1_1PODField.html#aaad2dcf6fdfeebc7056e9e48a62d7692">mesh</a>);</div>
<div class="line">    std::vector&lt;double&gt; vec;</div>
<div class="line">    <span class="keywordflow">if</span> (norm_type == <span class="stringliteral">&quot;L2&quot;</span>) {</div>
<div class="line">        vec = pod.<a id="a11" name="a11"></a><a class="code hl_function" href="classbitpit_1_1POD.html#a571f6faea5617a52576643fc7f118fe2">fieldsl2norm</a>(field1);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (norm_type == <span class="stringliteral">&quot;Linf&quot;</span>) {</div>
<div class="line">        vec = pod.<a id="a12" name="a12"></a><a class="code hl_function" href="classbitpit_1_1POD.html#a35da9ece0d089a52aa8a7e34cdaba54d">fieldsMax</a>(field1);</div>
<div class="line">    }</div>
<div class="line">    <span class="keyword">const</span> std::unordered_set&lt;long&gt; &amp; listActIds = pod.<a id="a13" name="a13"></a><a class="code hl_function" href="classbitpit_1_1POD.html#a3d19c465f4f3b031be33d321721f8d21">getListActiveIDs</a>();</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">long</span> <span class="keywordtype">id</span> : listActIds) {</div>
<div class="line">        <span class="keywordflow">for</span> (std::size_t isf = 0; isf &lt; 2; ++isf) {</div>
<div class="line">            <span class="keywordtype">double</span> field1s = field1.<a class="code hl_variable" href="structbitpit_1_1pod_1_1PODField.html#a0edb4d6c8fffcdb8a12fe71ebeff4a68">scalar</a>-&gt;at(<span class="keywordtype">id</span>, isf);</div>
<div class="line">            <span class="keywordtype">double</span> field2s = field2.<a class="code hl_variable" href="structbitpit_1_1pod_1_1PODField.html#a0edb4d6c8fffcdb8a12fe71ebeff4a68">scalar</a>-&gt;at(<span class="keywordtype">id</span>, isf);</div>
<div class="line">            errorField.<a class="code hl_variable" href="structbitpit_1_1pod_1_1PODField.html#a0edb4d6c8fffcdb8a12fe71ebeff4a68">scalar</a>-&gt;at(<span class="keywordtype">id</span>, isf) += (field1s-field2s)/vec[isf];</div>
<div class="line">        }</div>
<div class="line">        std::array&lt;double,3&gt; field1sv = field1.<a class="code hl_variable" href="structbitpit_1_1pod_1_1PODField.html#a5798d722a1279f872598da58f34ab6ff">vector</a>-&gt;at(<span class="keywordtype">id</span>,0);</div>
<div class="line">        std::array&lt;double,3&gt; field2sv = field2.<a class="code hl_variable" href="structbitpit_1_1pod_1_1PODField.html#a5798d722a1279f872598da58f34ab6ff">vector</a>-&gt;at(<span class="keywordtype">id</span>,0);</div>
<div class="line">        errorField.<a class="code hl_variable" href="structbitpit_1_1pod_1_1PODField.html#a5798d722a1279f872598da58f34ab6ff">vector</a>-&gt;at(<span class="keywordtype">id</span>, 0) += (field1sv-field2sv)/vec[2];</div>
<div class="line">        errorField.<a class="code hl_variable" href="structbitpit_1_1pod_1_1PODField.html#a39d2adad3475cc87180e05a6f9163801">mask</a>-&gt;at(<span class="keywordtype">id</span>) = 1;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> errorField;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * Print the L2 norm of each field of a PODField object.</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * \param[in] field, PODField object.</span></div>
<div class="line"><span class="comment"> * \param[in] pod, POD object defined on the same mesh.</span></div>
<div class="line"><span class="comment"> * \param[in] field_name, string of the field name to display.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keywordtype">void</span> printL2norm (<a class="code hl_struct" href="structbitpit_1_1pod_1_1PODField.html">pod::PODField</a> &amp;field, <a class="code hl_class" href="classbitpit_1_1POD.html">POD</a> &amp;pod, std::string field_name)</div>
<div class="line">{</div>
<div class="line">    std::vector&lt;double&gt; vecL2 = pod.<a class="code hl_function" href="classbitpit_1_1POD.html#a571f6faea5617a52576643fc7f118fe2">fieldsl2norm</a>(field);</div>
<div class="line">    std::vector&lt;std::string&gt; scalarNames = pod.<a id="a14" name="a14"></a><a class="code hl_function" href="classbitpit_1_1POD.html#a3ac67ac5edc9f4c8f513a1d14f7203f9">getScalarNames</a>();</div>
<div class="line">    std::vector&lt;std::array&lt;std::string,3&gt;&gt; vectorNames= pod.<a id="a15" name="a15"></a><a class="code hl_function" href="classbitpit_1_1POD.html#a13a0c1f5d634748cafd9466361acc1dd">getVectorNames</a>();</div>
<div class="line">    <span class="keywordtype">int</span> N = scalarNames.size();</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;N; i++) {</div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;L2 norm of &quot;</span> &lt;&lt; field_name &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; scalarNames[i] &lt;&lt; <span class="stringliteral">&quot; is &quot;</span>&lt;&lt; vecL2[i] &lt;&lt; std::endl;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordtype">int</span> M = vectorNames.size();</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=N; i&lt;N+M; i++) {</div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;L2 norm of &quot;</span> &lt;&lt; field_name &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; vectorNames[i-N][0].substr(0,vectorNames[i-N][0].size()-2) &lt;&lt; <span class="stringliteral">&quot; is &quot;</span>&lt;&lt; vecL2[i] &lt;&lt; std::endl;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * Print the L infinity norm of each field of a PODField object.</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * \param[in] field, PODField object.</span></div>
<div class="line"><span class="comment"> * \param[in] pod, POD object defined on the same mesh.</span></div>
<div class="line"><span class="comment"> * \param[in] field_name, string of the field name to display.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keywordtype">void</span> printLinfnorm (<a class="code hl_struct" href="structbitpit_1_1pod_1_1PODField.html">pod::PODField</a> &amp;field, <a class="code hl_class" href="classbitpit_1_1POD.html">POD</a> &amp;pod, std::string field_name)</div>
<div class="line">{</div>
<div class="line">    std::vector&lt;double&gt; vecLinf = pod.<a class="code hl_function" href="classbitpit_1_1POD.html#a35da9ece0d089a52aa8a7e34cdaba54d">fieldsMax</a>(field);</div>
<div class="line">    std::vector&lt;std::string&gt; scalarNames = pod.<a class="code hl_function" href="classbitpit_1_1POD.html#a3ac67ac5edc9f4c8f513a1d14f7203f9">getScalarNames</a>();</div>
<div class="line">    std::vector&lt;std::array&lt;std::string,3&gt;&gt; vectorNames= pod.<a class="code hl_function" href="classbitpit_1_1POD.html#a13a0c1f5d634748cafd9466361acc1dd">getVectorNames</a>();</div>
<div class="line">    <span class="keywordtype">int</span> N = scalarNames.size();</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;N; i++) {</div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;L infinity norm of &quot;</span> &lt;&lt; field_name &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; scalarNames[i] &lt;&lt; <span class="stringliteral">&quot; is &quot;</span>&lt;&lt; vecLinf[i] &lt;&lt; std::endl;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordtype">int</span> M = vectorNames.size();</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=N; i&lt;N+M; i++) {</div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;L infinity norm of &quot;</span> &lt;&lt; field_name &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; vectorNames[i-N][0].substr(0,vectorNames[i-N][0].size()-2) &lt;&lt; <span class="stringliteral">&quot; is &quot;</span>&lt;&lt; vecLinf[i] &lt;&lt; std::endl;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * Print a matrix.</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * \param[in] mat, matrix of size M rows times N columns.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keywordtype">void</span> printMat (std::vector&lt;std::vector&lt;double&gt;&gt; mat)</div>
<div class="line">{</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;mat = &quot;</span> &lt;&lt; std::endl;</div>
<div class="line">    <span class="keywordtype">size_t</span> M = mat.size();</div>
<div class="line">    <span class="keywordtype">size_t</span> N = mat[0].size();</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i=0; i&lt;M; i++) {</div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> j=0; j&lt;N; j++) {</div>
<div class="line">            <span class="keywordflow">if</span> (j == 0) {</div>
<div class="line">                std::cout &lt;&lt; <span class="stringliteral">&quot;[ &quot;</span>&lt;&lt; mat[i][j] ;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (j==(N-1)) {</div>
<div class="line">                std::cout &lt;&lt; <span class="stringliteral">&quot; , &quot;</span>  &lt;&lt; mat[i][j] &lt;&lt; <span class="stringliteral">&quot; ]&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span> {</div>
<div class="line">                std::cout &lt;&lt; <span class="stringliteral">&quot; , &quot;</span> &lt;&lt; mat[i][j] ;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">if</span> (N==1) {</div>
<div class="line">                std::cout  &lt;&lt; <span class="stringliteral">&quot; ]&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> run()</div>
<div class="line">{</div>
<div class="line">    <a class="code hl_class" href="classbitpit_1_1POD.html">POD</a> pod;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;6; i++) {</div>
<div class="line">        pod.<a id="a16" name="a16"></a><a class="code hl_function" href="classbitpit_1_1POD.html#af6583add85c223d4b0a1f8177968aea3">addSnapshot</a>(<span class="stringliteral">&quot;./data&quot;</span>, <span class="stringliteral">&quot;test_set2.&quot;</span>+std::to_string(i));</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    pod.<a id="a17" name="a17"></a><a class="code hl_function" href="classbitpit_1_1POD.html#a40da384fbd61f1cf23bd0e04449d9bf8">setMeshType</a>(POD::MeshType::VOLOCTREE);</div>
<div class="line">    pod.<a id="a18" name="a18"></a><a class="code hl_function" href="classbitpit_1_1POD.html#a41fed55580081a793682f786164de48a">setStaticMesh</a>(<span class="keyword">true</span>);</div>
<div class="line">    pod.<a id="a19" name="a19"></a><a class="code hl_function" href="classbitpit_1_1POD.html#ae3d1ef3191450ef46e78754581587c36">setErrorMode</a>(POD::ErrorMode::SINGLE);</div>
<div class="line">    pod.<a id="a20" name="a20"></a><a class="code hl_function" href="classbitpit_1_1POD.html#abbee8ccf46701f8deffaed0e50a553da">setWriteMode</a>(POD::WriteMode::DEBUG);</div>
<div class="line">    pod.<a id="a21" name="a21"></a><a class="code hl_function" href="classbitpit_1_1POD.html#a5dfeafc9677fec576a0507bb987d4800">setMemoryMode</a>(POD::MemoryMode::MEMORY_NORMAL);</div>
<div class="line">    pod.<a id="a22" name="a22"></a><a class="code hl_function" href="classbitpit_1_1POD.html#ad7f0b5201d7088f0327fc23a8d4b0b69">setEnergyLevel</a>(99.00);</div>
<div class="line">    pod.<a id="a23" name="a23"></a><a class="code hl_function" href="classbitpit_1_1POD.html#a9c996929ccc640b3d9d8abddb808315c">setUseMean</a>(<span class="keyword">false</span>);</div>
<div class="line">    pod.<a id="a24" name="a24"></a><a class="code hl_function" href="classbitpit_1_1POD.html#a6d2025cadefd192059e012fa2b8a3751">setDirectory</a>(<span class="stringliteral">&quot;pod&quot;</span>);</div>
<div class="line">    pod.<a id="a25" name="a25"></a><a class="code hl_function" href="classbitpit_1_1POD.html#ad8acff69879cb2249129ed8ff271db4a">setName</a>(<span class="stringliteral">&quot;pod.test.solver&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    pod.<a id="a26" name="a26"></a><a class="code hl_function" href="classbitpit_1_1POD.html#aea88d70abbd950dfd24ad0017b735905">evalDecomposition</a>();</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <a id="_a27" name="_a27"></a><a class="code hl_struct" href="structbitpit_1_1pod_1_1SnapshotFile.html">pod::SnapshotFile</a> snap0 (<span class="stringliteral">&quot;./data&quot;</span>, <span class="stringliteral">&quot;test_set2.0&quot;</span>);</div>
<div class="line">    <a class="code hl_struct" href="structbitpit_1_1pod_1_1PODField.html">pod::PODField</a> solution0;</div>
<div class="line">    pod.<a id="a28" name="a28"></a><a class="code hl_function" href="classbitpit_1_1POD.html#a8181aa9c5e572c3bd103e6dd3761e7fd">readSnapshot</a>(snap0, solution0);</div>
<div class="line">    pod.<a id="a29" name="a29"></a><a class="code hl_function" href="classbitpit_1_1POD.html#a65a2e09963301f0105cab14798aa8071">write</a>(solution0,<span class="stringliteral">&quot;solution0&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    std::vector&lt;std::vector&lt;double&gt;&gt; recostructionCoeffs = pod.<a id="a30" name="a30"></a><a class="code hl_function" href="classbitpit_1_1POD.html#aaebca9bd3a509f2667059f50c45b9c2e">projectField</a>(solution0);</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;POD coefficients of the first snapshot &quot;</span> &lt;&lt; std::endl;</div>
<div class="line">    printMat(recostructionCoeffs);</div>
<div class="line">    <a class="code hl_struct" href="structbitpit_1_1pod_1_1PODField.html">pod::PODField</a> recon0;</div>
<div class="line">    pod.<a id="a31" name="a31"></a><a class="code hl_function" href="classbitpit_1_1POD.html#a8da0a21846d27527d015846f1fcb4693">reconstructFields</a>(recostructionCoeffs, recon0);</div>
<div class="line">    pod.<a class="code hl_function" href="classbitpit_1_1POD.html#a65a2e09963301f0105cab14798aa8071">write</a>(recon0,<span class="stringliteral">&quot;reconstruction0&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> std::unordered_set&lt;long&gt; &amp; listActIds = pod.<a class="code hl_function" href="classbitpit_1_1POD.html#a3d19c465f4f3b031be33d321721f8d21">getListActiveIDs</a>();</div>
<div class="line">    <a class="code hl_struct" href="structbitpit_1_1pod_1_1PODField.html">pod::PODField</a> error0 = buildErrorField(solution0, recon0, listActIds);</div>
<div class="line">    <a class="code hl_struct" href="structbitpit_1_1pod_1_1PODField.html">pod::PODField</a> error0relL2 = buildRelErrorField(solution0, recon0, pod, <span class="stringliteral">&quot;L2&quot;</span>);</div>
<div class="line">    <a class="code hl_struct" href="structbitpit_1_1pod_1_1PODField.html">pod::PODField</a> error0relLinf = buildRelErrorField(solution0, recon0, pod, <span class="stringliteral">&quot;Linf&quot;</span>);</div>
<div class="line">    printL2norm(solution0,pod,<span class="stringliteral">&quot;solution&quot;</span>);</div>
<div class="line">    printLinfnorm(solution0,pod,<span class="stringliteral">&quot;solution&quot;</span>);</div>
<div class="line">    printL2norm(error0,pod,<span class="stringliteral">&quot;reconstruction error&quot;</span>);</div>
<div class="line">    printLinfnorm(error0,pod,<span class="stringliteral">&quot;reconstruction error&quot;</span>);</div>
<div class="line">    printL2norm(error0relL2,pod,<span class="stringliteral">&quot;relative error&quot;</span>);</div>
<div class="line">    printLinfnorm(error0relLinf,pod,<span class="stringliteral">&quot;relative error&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_class" href="classbitpit_1_1POD.html">POD</a> pod2;</div>
<div class="line">    <span class="comment">// Set pod2.</span></div>
<div class="line">    pod2.<a class="code hl_function" href="classbitpit_1_1POD.html#abbee8ccf46701f8deffaed0e50a553da">setWriteMode</a>(POD::WriteMode::DEBUG);</div>
<div class="line">    pod2.<a class="code hl_function" href="classbitpit_1_1POD.html#a9c996929ccc640b3d9d8abddb808315c">setUseMean</a>(<span class="keyword">false</span>);</div>
<div class="line">    pod2.<a class="code hl_function" href="classbitpit_1_1POD.html#a6d2025cadefd192059e012fa2b8a3751">setDirectory</a>(<span class="stringliteral">&quot;pod&quot;</span>);</div>
<div class="line">    pod2.<a class="code hl_function" href="classbitpit_1_1POD.html#ad8acff69879cb2249129ed8ff271db4a">setName</a>(<span class="stringliteral">&quot;pod.test.solver&quot;</span>);</div>
<div class="line">    <span class="comment">// restore modes.</span></div>
<div class="line">    pod2.<a id="a32" name="a32"></a><a class="code hl_function" href="classbitpit_1_1POD.html#ad541ae91a9841132f3bc9227ebfdc659">restore</a>();</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;the number of modes of pod 2 is &quot;</span> &lt;&lt; pod2.<a id="a33" name="a33"></a><a class="code hl_function" href="classbitpit_1_1POD.html#a0e7bcea83b331cab82483be2e6535fbd">getModeCount</a>() &lt;&lt; std::endl;</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;the number of modes of pod is &quot;</span> &lt;&lt; pod.<a class="code hl_function" href="classbitpit_1_1POD.html#a0e7bcea83b331cab82483be2e6535fbd">getModeCount</a>() &lt;&lt; std::endl;</div>
<div class="line">    <span class="comment">// get modes from pod2.</span></div>
<div class="line">    <span class="keyword">const</span> std::vector&lt;pod::PODMode&gt; &amp;vec_pod_modes = pod2.<a id="a34" name="a34"></a><a class="code hl_function" href="classbitpit_1_1POD.html#a30e40cc6fb6cf6e97f695fabf3ff3e36">getModes</a>();</div>
<div class="line">    <span class="comment">// get list of active ids from pod2</span></div>
<div class="line">    <span class="keyword">const</span> std::unordered_set&lt;long&gt; &amp; listActIds_2 = pod2.<a class="code hl_function" href="classbitpit_1_1POD.html#a3d19c465f4f3b031be33d321721f8d21">getListActiveIDs</a>();</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Number of active cells for pod2 object = &quot;</span>;</div>
<div class="line">    std::cout &lt;&lt; listActIds_2.size() &lt;&lt; std::endl;</div>
<div class="line">    <span class="comment">// compare with list of active ids from pod1</span></div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Number of active cells for pod object = &quot;</span>;</div>
<div class="line">    std::cout &lt;&lt; listActIds.size() &lt;&lt; std::endl;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// get reconstruction coefficients used for the computation of recon0</span></div>
<div class="line">    <span class="keywordtype">double</span> coeff11 = recostructionCoeffs[0][0];</div>
<div class="line">    <span class="keywordtype">double</span> coeff12 = recostructionCoeffs[0][1];</div>
<div class="line">    <span class="keywordtype">double</span> coeff21 = recostructionCoeffs[1][0];</div>
<div class="line">    <span class="keywordtype">double</span> coeff22 = recostructionCoeffs[1][1];</div>
<div class="line">    <span class="keywordtype">double</span> coeff31 = recostructionCoeffs[2][0];</div>
<div class="line">    <span class="keywordtype">double</span> coeff32 = recostructionCoeffs[2][1];</div>
<div class="line">    <span class="keywordtype">double</span> scalar1_diff = 0;</div>
<div class="line">    <span class="keywordtype">double</span> scalar2_diff = 0;</div>
<div class="line">    <span class="keywordtype">double</span> vector1_diff = 0;</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">long</span> <span class="keywordtype">id</span> : listActIds_2) {</div>
<div class="line">        <span class="keywordtype">double</span> mode1 = vec_pod_modes[0].scalar-&gt;at(<span class="keywordtype">id</span>, 0);</div>
<div class="line">        <span class="keywordtype">double</span> mode2 = vec_pod_modes[1].scalar-&gt;at(<span class="keywordtype">id</span>, 0);</div>
<div class="line">        scalar1_diff += coeff11*mode1+coeff12*mode2-recon0.<a class="code hl_variable" href="structbitpit_1_1pod_1_1PODField.html#a0edb4d6c8fffcdb8a12fe71ebeff4a68">scalar</a>-&gt;at(<span class="keywordtype">id</span>, 0);</div>
<div class="line">        mode1 = vec_pod_modes[0].scalar-&gt;at(<span class="keywordtype">id</span>, 1);</div>
<div class="line">        mode2 = vec_pod_modes[1].scalar-&gt;at(<span class="keywordtype">id</span>, 1);</div>
<div class="line">        scalar2_diff += coeff21*mode1+coeff22*mode2-recon0.<a class="code hl_variable" href="structbitpit_1_1pod_1_1PODField.html#a0edb4d6c8fffcdb8a12fe71ebeff4a68">scalar</a>-&gt;at(<span class="keywordtype">id</span>, 1);</div>
<div class="line">        std::array&lt;double,3&gt; mode1v = vec_pod_modes[0].vector-&gt;at(<span class="keywordtype">id</span>, 0);</div>
<div class="line">        std::array&lt;double,3&gt; mode2v = vec_pod_modes[1].vector-&gt;at(<span class="keywordtype">id</span>, 0);</div>
<div class="line">        std::array&lt;double,3&gt; diffv = recon0.<a class="code hl_variable" href="structbitpit_1_1pod_1_1PODField.html#a5798d722a1279f872598da58f34ab6ff">vector</a>-&gt;at(<span class="keywordtype">id</span>, 0);</div>
<div class="line">        diffv -= coeff31*mode1v+coeff32*mode2v;</div>
<div class="line">        vector1_diff += std::sqrt( <a id="a35" name="a35"></a><a class="code hl_function" href="group__MathFunctions.html#ga982a6463d7e5b2cbcd89a15b7b3ee7cc">dotProduct</a>((diffv),(diffv)));</div>
<div class="line">    }</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; std::endl;</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;The absolute error between the reconstruction and the linear combination of the restored modes is &quot;</span> &lt;&lt; std::endl;</div>
<div class="line">    std::cout &lt;&lt; scalar1_diff &lt;&lt; <span class="stringliteral">&quot; for the first scalar field, &quot;</span> &lt;&lt; std::endl;</div>
<div class="line">    std::cout &lt;&lt; scalar2_diff &lt;&lt; <span class="stringliteral">&quot; for the second scalar field, &quot;</span>&lt;&lt; std::endl;</div>
<div class="line">    std::cout &lt;&lt; vector1_diff &lt;&lt; <span class="stringliteral">&quot; for the first vector field. &quot;</span>&lt;&lt; std::endl;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[])</div>
<div class="line">{</div>
<div class="line"><span class="preprocessor">#if BITPIT_ENABLE_MPI</span></div>
<div class="line">    MPI_Init(&amp;argc,&amp;argv);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">try</span> {</div>
<div class="line">        run();</div>
<div class="line">    } <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;exception) {</div>
<div class="line">        log::cout() &lt;&lt; exception.what();</div>
<div class="line">        exit(1);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#if BITPIT_ENABLE_MPI</span></div>
<div class="line">    MPI_Finalize();</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"> </div>
<div class="line">}</div>
<div class="ttc" id="aclassbitpit_1_1POD_html"><div class="ttname"><a href="classbitpit_1_1POD.html">bitpit::POD</a></div><div class="ttdoc">The POD (Proper Orthogonal Decomposition) class provides an interface for defining POD object.</div><div class="ttdef"><b>Definition</b> <a href="pod_8hpp_source.html#l00041">pod.hpp:41</a></div></div>
<div class="ttc" id="aclassbitpit_1_1POD_html_a0e7bcea83b331cab82483be2e6535fbd"><div class="ttname"><a href="classbitpit_1_1POD.html#a0e7bcea83b331cab82483be2e6535fbd">bitpit::POD::getModeCount</a></div><div class="ttdeci">std::size_t getModeCount()</div><div class="ttdef"><b>Definition</b> <a href="pod_8cpp_source.html#l00315">pod.cpp:315</a></div></div>
<div class="ttc" id="aclassbitpit_1_1POD_html_a13a0c1f5d634748cafd9466361acc1dd"><div class="ttname"><a href="classbitpit_1_1POD.html#a13a0c1f5d634748cafd9466361acc1dd">bitpit::POD::getVectorNames</a></div><div class="ttdeci">std::vector&lt; std::array&lt; std::string, 3 &gt; &gt; getVectorNames()</div><div class="ttdef"><b>Definition</b> <a href="pod_8cpp_source.html#l00738">pod.cpp:738</a></div></div>
<div class="ttc" id="aclassbitpit_1_1POD_html_a30e40cc6fb6cf6e97f695fabf3ff3e36"><div class="ttname"><a href="classbitpit_1_1POD.html#a30e40cc6fb6cf6e97f695fabf3ff3e36">bitpit::POD::getModes</a></div><div class="ttdeci">const std::vector&lt; pod::PODMode &gt; &amp; getModes()</div><div class="ttdef"><b>Definition</b> <a href="pod_8cpp_source.html#l00790">pod.cpp:790</a></div></div>
<div class="ttc" id="aclassbitpit_1_1POD_html_a35da9ece0d089a52aa8a7e34cdaba54d"><div class="ttname"><a href="classbitpit_1_1POD.html#a35da9ece0d089a52aa8a7e34cdaba54d">bitpit::POD::fieldsMax</a></div><div class="ttdeci">std::vector&lt; double &gt; fieldsMax(pod::PODField &amp;snap)</div><div class="ttdef"><b>Definition</b> <a href="pod_8cpp_source.html#l02618">pod.cpp:2618</a></div></div>
<div class="ttc" id="aclassbitpit_1_1POD_html_a3ac67ac5edc9f4c8f513a1d14f7203f9"><div class="ttname"><a href="classbitpit_1_1POD.html#a3ac67ac5edc9f4c8f513a1d14f7203f9">bitpit::POD::getScalarNames</a></div><div class="ttdeci">std::vector&lt; std::string &gt; getScalarNames()</div><div class="ttdef"><b>Definition</b> <a href="pod_8cpp_source.html#l00728">pod.cpp:728</a></div></div>
<div class="ttc" id="aclassbitpit_1_1POD_html_a3d19c465f4f3b031be33d321721f8d21"><div class="ttname"><a href="classbitpit_1_1POD.html#a3d19c465f4f3b031be33d321721f8d21">bitpit::POD::getListActiveIDs</a></div><div class="ttdeci">const std::unordered_set&lt; long int &gt; &amp; getListActiveIDs()</div><div class="ttdef"><b>Definition</b> <a href="pod_8cpp_source.html#l00808">pod.cpp:808</a></div></div>
<div class="ttc" id="aclassbitpit_1_1POD_html_a40da384fbd61f1cf23bd0e04449d9bf8"><div class="ttname"><a href="classbitpit_1_1POD.html#a40da384fbd61f1cf23bd0e04449d9bf8">bitpit::POD::setMeshType</a></div><div class="ttdeci">void setMeshType(MeshType type)</div><div class="ttdef"><b>Definition</b> <a href="pod_8cpp_source.html#l00390">pod.cpp:390</a></div></div>
<div class="ttc" id="aclassbitpit_1_1POD_html_a41fed55580081a793682f786164de48a"><div class="ttname"><a href="classbitpit_1_1POD.html#a41fed55580081a793682f786164de48a">bitpit::POD::setStaticMesh</a></div><div class="ttdeci">void setStaticMesh(bool flag)</div><div class="ttdef"><b>Definition</b> <a href="pod_8cpp_source.html#l00483">pod.cpp:483</a></div></div>
<div class="ttc" id="aclassbitpit_1_1POD_html_a571f6faea5617a52576643fc7f118fe2"><div class="ttname"><a href="classbitpit_1_1POD.html#a571f6faea5617a52576643fc7f118fe2">bitpit::POD::fieldsl2norm</a></div><div class="ttdeci">std::vector&lt; double &gt; fieldsl2norm(pod::PODField &amp;snap)</div><div class="ttdef"><b>Definition</b> <a href="pod_8cpp_source.html#l02577">pod.cpp:2577</a></div></div>
<div class="ttc" id="aclassbitpit_1_1POD_html_a5dfeafc9677fec576a0507bb987d4800"><div class="ttname"><a href="classbitpit_1_1POD.html#a5dfeafc9677fec576a0507bb987d4800">bitpit::POD::setMemoryMode</a></div><div class="ttdeci">void setMemoryMode(MemoryMode mode)</div><div class="ttdef"><b>Definition</b> <a href="pod_8cpp_source.html#l00505">pod.cpp:505</a></div></div>
<div class="ttc" id="aclassbitpit_1_1POD_html_a65a2e09963301f0105cab14798aa8071"><div class="ttname"><a href="classbitpit_1_1POD.html#a65a2e09963301f0105cab14798aa8071">bitpit::POD::write</a></div><div class="ttdeci">void write(const pod::PODField &amp;snap, std::string file_name) const</div><div class="ttdef"><b>Definition</b> <a href="pod_8cpp_source.html#l03080">pod.cpp:3080</a></div></div>
<div class="ttc" id="aclassbitpit_1_1POD_html_a6d2025cadefd192059e012fa2b8a3751"><div class="ttname"><a href="classbitpit_1_1POD.html#a6d2025cadefd192059e012fa2b8a3751">bitpit::POD::setDirectory</a></div><div class="ttdeci">void setDirectory(const std::string &amp;directory)</div><div class="ttdef"><b>Definition</b> <a href="pod_8cpp_source.html#l00180">pod.cpp:180</a></div></div>
<div class="ttc" id="aclassbitpit_1_1POD_html_a8181aa9c5e572c3bd103e6dd3761e7fd"><div class="ttname"><a href="classbitpit_1_1POD.html#a8181aa9c5e572c3bd103e6dd3761e7fd">bitpit::POD::readSnapshot</a></div><div class="ttdeci">void readSnapshot(const pod::SnapshotFile &amp;snap, pod::PODField &amp;fieldr)</div><div class="ttdef"><b>Definition</b> <a href="pod_8cpp_source.html#l02150">pod.cpp:2150</a></div></div>
<div class="ttc" id="aclassbitpit_1_1POD_html_a8da0a21846d27527d015846f1fcb4693"><div class="ttname"><a href="classbitpit_1_1POD.html#a8da0a21846d27527d015846f1fcb4693">bitpit::POD::reconstructFields</a></div><div class="ttdeci">void reconstructFields(pod::PODField &amp;field, pod::PODField &amp;recon)</div><div class="ttdef"><b>Definition</b> <a href="pod_8cpp_source.html#l01631">pod.cpp:1631</a></div></div>
<div class="ttc" id="aclassbitpit_1_1POD_html_a9c996929ccc640b3d9d8abddb808315c"><div class="ttname"><a href="classbitpit_1_1POD.html#a9c996929ccc640b3d9d8abddb808315c">bitpit::POD::setUseMean</a></div><div class="ttdeci">void setUseMean(bool flag)</div><div class="ttdef"><b>Definition</b> <a href="pod_8cpp_source.html#l00493">pod.cpp:493</a></div></div>
<div class="ttc" id="aclassbitpit_1_1POD_html_aaebca9bd3a509f2667059f50c45b9c2e"><div class="ttname"><a href="classbitpit_1_1POD.html#aaebca9bd3a509f2667059f50c45b9c2e">bitpit::POD::projectField</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; double &gt; &gt; projectField(pod::PODField &amp;field)</div><div class="ttdef"><b>Definition</b> <a href="pod_8cpp_source.html#l01764">pod.cpp:1764</a></div></div>
<div class="ttc" id="aclassbitpit_1_1POD_html_abbee8ccf46701f8deffaed0e50a553da"><div class="ttname"><a href="classbitpit_1_1POD.html#abbee8ccf46701f8deffaed0e50a553da">bitpit::POD::setWriteMode</a></div><div class="ttdeci">void setWriteMode(WriteMode mode)</div><div class="ttdef"><b>Definition</b> <a href="pod_8cpp_source.html#l00576">pod.cpp:576</a></div></div>
<div class="ttc" id="aclassbitpit_1_1POD_html_ad541ae91a9841132f3bc9227ebfdc659"><div class="ttname"><a href="classbitpit_1_1POD.html#ad541ae91a9841132f3bc9227ebfdc659">bitpit::POD::restore</a></div><div class="ttdeci">void restore()</div><div class="ttdef"><b>Definition</b> <a href="pod_8cpp_source.html#l00864">pod.cpp:864</a></div></div>
<div class="ttc" id="aclassbitpit_1_1POD_html_ad7f0b5201d7088f0327fc23a8d4b0b69"><div class="ttname"><a href="classbitpit_1_1POD.html#ad7f0b5201d7088f0327fc23a8d4b0b69">bitpit::POD::setEnergyLevel</a></div><div class="ttdeci">void setEnergyLevel(double energy)</div><div class="ttdef"><b>Definition</b> <a href="pod_8cpp_source.html#l00326">pod.cpp:326</a></div></div>
<div class="ttc" id="aclassbitpit_1_1POD_html_ad8acff69879cb2249129ed8ff271db4a"><div class="ttname"><a href="classbitpit_1_1POD.html#ad8acff69879cb2249129ed8ff271db4a">bitpit::POD::setName</a></div><div class="ttdeci">void setName(const std::string &amp;name)</div><div class="ttdef"><b>Definition</b> <a href="pod_8cpp_source.html#l00160">pod.cpp:160</a></div></div>
<div class="ttc" id="aclassbitpit_1_1POD_html_ae3d1ef3191450ef46e78754581587c36"><div class="ttname"><a href="classbitpit_1_1POD.html#ae3d1ef3191450ef46e78754581587c36">bitpit::POD::setErrorMode</a></div><div class="ttdeci">void setErrorMode(ErrorMode mode)</div><div class="ttdef"><b>Definition</b> <a href="pod_8cpp_source.html#l00635">pod.cpp:635</a></div></div>
<div class="ttc" id="aclassbitpit_1_1POD_html_aea88d70abbd950dfd24ad0017b735905"><div class="ttname"><a href="classbitpit_1_1POD.html#aea88d70abbd950dfd24ad0017b735905">bitpit::POD::evalDecomposition</a></div><div class="ttdeci">void evalDecomposition()</div><div class="ttdef"><b>Definition</b> <a href="pod_8cpp_source.html#l00873">pod.cpp:873</a></div></div>
<div class="ttc" id="aclassbitpit_1_1POD_html_af6583add85c223d4b0a1f8177968aea3"><div class="ttname"><a href="classbitpit_1_1POD.html#af6583add85c223d4b0a1f8177968aea3">bitpit::POD::addSnapshot</a></div><div class="ttdeci">void addSnapshot(const std::string &amp;directory, const std::string &amp;name)</div><div class="ttdef"><b>Definition</b> <a href="pod_8cpp_source.html#l00208">pod.cpp:208</a></div></div>
<div class="ttc" id="aclassbitpit_1_1PatchKernel_html_a1799d61f7a4ea2c0f043ee860de457fe"><div class="ttname"><a href="classbitpit_1_1PatchKernel.html#a1799d61f7a4ea2c0f043ee860de457fe">bitpit::PatchKernel::getCells</a></div><div class="ttdeci">PiercedVector&lt; Cell &gt; &amp; getCells()</div><div class="ttdef"><b>Definition</b> <a href="patch__kernel_8cpp_source.html#l02551">patch_kernel.cpp:2551</a></div></div>
<div class="ttc" id="aclassbitpit_1_1PiercedStorage_html"><div class="ttname"><a href="classbitpit_1_1PiercedStorage.html">bitpit::PiercedStorage&lt; double &gt;</a></div></div>
<div class="ttc" id="agroup__MathFunctions_html_ga982a6463d7e5b2cbcd89a15b7b3ee7cc"><div class="ttname"><a href="group__MathFunctions.html#ga982a6463d7e5b2cbcd89a15b7b3ee7cc">dotProduct</a></div><div class="ttdeci">T dotProduct(const std::array&lt; T, d &gt; &amp;x, const std::array&lt; T, d &gt; &amp;y)</div><div class="ttdef"><b>Definition</b> <a href="MathOperators__array_8tpp_source.html#l00851">MathOperators_array.tpp:851</a></div></div>
<div class="ttc" id="astructbitpit_1_1pod_1_1PODField_html"><div class="ttname"><a href="structbitpit_1_1pod_1_1PODField.html">bitpit::pod::PODField</a></div><div class="ttdoc">The PODfield structure is used to store the fields inside POD classes.</div><div class="ttdef"><b>Definition</b> <a href="pod__common_8hpp_source.html#l00065">pod_common.hpp:66</a></div></div>
<div class="ttc" id="astructbitpit_1_1pod_1_1PODField_html_a0edb4d6c8fffcdb8a12fe71ebeff4a68"><div class="ttname"><a href="structbitpit_1_1pod_1_1PODField.html#a0edb4d6c8fffcdb8a12fe71ebeff4a68">bitpit::pod::PODField::scalar</a></div><div class="ttdeci">std::unique_ptr&lt; pod::ScalarStorage &gt; scalar</div><div class="ttdef"><b>Definition</b> <a href="pod__common_8hpp_source.html#l00070">pod_common.hpp:70</a></div></div>
<div class="ttc" id="astructbitpit_1_1pod_1_1PODField_html_a39d2adad3475cc87180e05a6f9163801"><div class="ttname"><a href="structbitpit_1_1pod_1_1PODField.html#a39d2adad3475cc87180e05a6f9163801">bitpit::pod::PODField::mask</a></div><div class="ttdeci">std::unique_ptr&lt; PiercedStorage&lt; bool &gt; &gt; mask</div><div class="ttdef"><b>Definition</b> <a href="pod__common_8hpp_source.html#l00069">pod_common.hpp:69</a></div></div>
<div class="ttc" id="astructbitpit_1_1pod_1_1PODField_html_a5798d722a1279f872598da58f34ab6ff"><div class="ttname"><a href="structbitpit_1_1pod_1_1PODField.html#a5798d722a1279f872598da58f34ab6ff">bitpit::pod::PODField::vector</a></div><div class="ttdeci">std::unique_ptr&lt; pod::VectorStorage &gt; vector</div><div class="ttdef"><b>Definition</b> <a href="pod__common_8hpp_source.html#l00071">pod_common.hpp:71</a></div></div>
<div class="ttc" id="astructbitpit_1_1pod_1_1PODField_html_aa2d43552f707184078abaf34d6dabbfa"><div class="ttname"><a href="structbitpit_1_1pod_1_1PODField.html#aa2d43552f707184078abaf34d6dabbfa">bitpit::pod::PODField::setMesh</a></div><div class="ttdeci">void setMesh(VolumeKernel *lmesh)</div><div class="ttdef"><b>Definition</b> <a href="pod__common_8hpp_source.html#l00177">pod_common.hpp:177</a></div></div>
<div class="ttc" id="astructbitpit_1_1pod_1_1PODField_html_aaad2dcf6fdfeebc7056e9e48a62d7692"><div class="ttname"><a href="structbitpit_1_1pod_1_1PODField.html#aaad2dcf6fdfeebc7056e9e48a62d7692">bitpit::pod::PODField::mesh</a></div><div class="ttdeci">VolumeKernel * mesh</div><div class="ttdef"><b>Definition</b> <a href="pod__common_8hpp_source.html#l00068">pod_common.hpp:68</a></div></div>
<div class="ttc" id="astructbitpit_1_1pod_1_1SnapshotFile_html"><div class="ttname"><a href="structbitpit_1_1pod_1_1SnapshotFile.html">bitpit::pod::SnapshotFile</a></div><div class="ttdoc">The SnapFile structure is used to store the file names inside POD classes.</div><div class="ttdef"><b>Definition</b> <a href="pod__common_8hpp_source.html#l00045">pod_common.hpp:46</a></div></div>
</div><!-- fragment --> </div><!-- contents -->
---
layout: doxygen_footer
---
{% endraw %}
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<address class="footer"><small>
Generated on Wed Jun 19 2024 10:21:04 for bitpit by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.10.0
</small></address>
